<!DOCTYPE html>
<html>
<head>
<title>clinamen</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script type="text/javascript" src="../../clinamen-bt.js"></script>
	<script type="text/javascript" src="test.js"></script>



</head>

<body>
	<span id="run">run</span>
  <span id="next">next</span>

<script type="text/javascript">

	var tmachine1 = new TuringMachine(machine1);

	//console.log(tmachine1.prop);

  document.getElementById('run').addEventListener('click',function(){
    machine2.run();
  });

  document.getElementById('next').addEventListener('click',function(){
    machine2.next();
		//console.log('length: '+tmachine1.stack.length);
		if(machine2.stack.length>0){
			if(machine2.stack.last().node.type=='condition'){
				console.log('next -> '+machine2.stack.last().node.type+' cond: '+JSON.stringify(machine2.stack.last().node.filter));
			} else if(machine2.stack.last().node.type=='action'){
				console.log('next -> '+machine2.stack.last().node.type+' act: '+machine2.stack.last().node.act+' prop: '+JSON.stringify(machine2.prop));
			} else {
				console.log('next -> '+machine2.stack.last().node.type+':'+machine2.stack.last().node.name);
			}

		}
  });
	//alert(window.clinamen);

</script>

</body>
</html>
